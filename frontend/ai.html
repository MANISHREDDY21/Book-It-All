<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TravelMate AI Assistant</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      display: flex;
      flex-direction: column;
      height: 100vh;
      margin: 0;
    }

    .header {
      background: #008080;
      color: white;
      padding: 15px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .header h1 {
      margin: 0;
      font-size: 24px;
    }

    .back-btn {
      background: rgba(255,255,255,0.2);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      text-decoration: none;
      transition: background 0.3s;
    }

    .back-btn:hover {
      background: rgba(255,255,255,0.3);
    }

    .chat-container {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background: white;
      margin: 20px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }

    .message {
      margin: 15px 0;
      padding: 12px 18px;
      border-radius: 18px;
      max-width: 70%;
      word-wrap: break-word;
      animation: fadeIn 0.3s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .user {
      background: linear-gradient(135deg, #008080, #00a0a0);
      color: white;
      margin-left: auto;
      border-bottom-right-radius: 5px;
    }

    .ai {
      background: #f1f3f4;
      color: #333;
      margin-right: auto;
      border-bottom-left-radius: 5px;
      border: 1px solid #e0e0e0;
    }

    .input-container {
      display: flex;
      padding: 20px;
      background: white;
      margin: 0 20px 20px 20px;
      border-radius: 25px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      align-items: center;
    }

    input {
      flex: 1;
      padding: 15px 20px;
      border: none;
      border-radius: 25px;
      outline: none;
      font-size: 16px;
      background: #f8f9fa;
    }

    input:focus {
      background: #e9ecef;
    }

    .send-btn {
      margin-left: 15px;
      padding: 15px 25px;
      background: linear-gradient(135deg, #008080, #00a0a0);
      color: white;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .send-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,128,128,0.3);
    }

    .send-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .typing-indicator {
      display: none;
      margin: 15px 0;
      padding: 12px 18px;
      border-radius: 18px;
      max-width: 70%;
      background: #f1f3f4;
      border: 1px solid #e0e0e0;
      border-bottom-left-radius: 5px;
    }

    .typing-dots {
      display: flex;
      gap: 4px;
    }

    .typing-dots span {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #666;
      animation: typing 1.4s infinite;
    }

    .typing-dots span:nth-child(2) {
      animation-delay: 0.2s;
    }

    .typing-dots span:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes typing {
      0%, 60%, 100% { transform: translateY(0); }
      30% { transform: translateY(-10px); }
    }

    .welcome-message {
      text-align: center;
      color: #666;
      margin: 50px 0;
      font-size: 18px;
    }

    .quick-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
      justify-content: center;
    }

    .quick-action {
      background: #e9ecef;
      border: none;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.2s;
    }

    .quick-action:hover {
      background: #dee2e6;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>ü§ñ TravelMate AI Assistant</h1>
    <a href="main.html" class="back-btn">‚Üê Back to Main</a>
  </div>

  <div class="chat-container" id="chat">
    <div class="welcome-message">
      <h2>Hello! I'm your TravelMate AI Assistant üëã</h2>
      <p>I can help you with travel planning, booking assistance, destination recommendations, and more!</p>
      
      <div class="quick-actions">
        <button class="quick-action" onclick="sendQuickMessage('Plan a trip to Goa')">Plan a trip to Goa</button>
        <button class="quick-action" onclick="sendQuickMessage('Best time to visit Kerala')">Best time to visit Kerala</button>
        <button class="quick-action" onclick="sendQuickMessage('Budget hotels in Delhi')">Budget hotels in Delhi</button>
        <button class="quick-action" onclick="sendQuickMessage('Flight booking help')">Flight booking help</button>
      </div>
    </div>
    
    <div class="typing-indicator" id="typingIndicator">
      <div class="typing-dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>

  <div class="input-container">
    <input id="msg" type="text" placeholder="Ask me anything about travel..." onkeypress="handleKeyPress(event)">
    <button class="send-btn" id="sendBtn" onclick="sendMessage()">Send</button>
  </div>

  <script>
    const predefinedResponses = {
      'hello': 'Hello! Welcome to TravelMate. How can I assist you with your travel plans today?',
      'hi': 'Hi there! I\'m here to help you with all your travel needs. What would you like to know?',
      'help': 'I can help you with:\n‚Ä¢ Flight, train, bus, and cab bookings\n‚Ä¢ Hotel reservations\n‚Ä¢ Destination recommendations\n‚Ä¢ Travel tips and guides\n‚Ä¢ Budget planning\n‚Ä¢ Weather information\n\nWhat specific help do you need?',
      'goa': 'Goa is a fantastic destination! Here are some highlights:\n\nüèñÔ∏è **Best Beaches:** Baga, Calangute, Anjuna, Palolem\nüè® **Stay:** North Goa for nightlife, South Goa for peace\nüçΩÔ∏è **Food:** Try fish curry, bebinca, and feni\n‚è∞ **Best Time:** November to February\nüí∞ **Budget:** ‚Çπ3,000-5,000 per day for mid-range\n\nWould you like help booking flights or hotels to Goa?',
      'kerala': 'Kerala - God\'s Own Country! üå¥\n\nüõ∂ **Must Visit:** Alleppey backwaters, Munnar hills, Kochi\nüåßÔ∏è **Best Time:** October to March (avoid monsoons)\nüè† **Stay:** Houseboats in Alleppey, hill resorts in Munnar\nüçõ **Food:** Appam, fish curry, banana chips\nüí° **Tip:** Book houseboat in advance during peak season\n\nNeed help planning your Kerala itinerary?',
      'delhi': 'Delhi hotel recommendations:\n\nüí∞ **Budget (‚Çπ1,000-2,500):**\n‚Ä¢ Zostel Delhi\n‚Ä¢ Hotel City Park\n‚Ä¢ Smyle Inn\n\nüè® **Mid-range (‚Çπ2,500-5,000):**\n‚Ä¢ Hotel Tara Palace\n‚Ä¢ FabHotel Prime\n‚Ä¢ Treebo Trend\n\nüåü **Luxury (‚Çπ5,000+):**\n‚Ä¢ The Imperial\n‚Ä¢ Taj Palace\n‚Ä¢ The Leela Palace\n\nWhich area of Delhi are you looking to stay in?',
      'flight': 'I can help you with flight bookings! Here\'s what I can assist with:\n\n‚úàÔ∏è **Services:**\n‚Ä¢ Find cheapest flights\n‚Ä¢ Compare airlines\n‚Ä¢ Check baggage policies\n‚Ä¢ Seat selection tips\n‚Ä¢ Cancellation policies\n\nüì± **Booking Steps:**\n1. Click on "Flights" from the main page\n2. Enter your travel details\n3. Compare options\n4. Select and book\n\nWhat specific flight information do you need?',
      'booking': 'TravelMate makes booking easy! Here\'s how:\n\nüìã **Available Services:**\n‚Ä¢ ‚úàÔ∏è Flights (domestic & international)\n‚Ä¢ üöÇ Trains (all classes)\n‚Ä¢ üöå Buses (AC & non-AC)\n‚Ä¢ üöó Cabs (instant booking)\n‚Ä¢ üè® Hotels (budget to luxury)\n\nüîÑ **Booking Process:**\n1. Select service from main page\n2. Fill in travel details\n3. Compare options\n4. Make payment\n5. Get confirmation\n\nWhich service would you like to book?'
    };

    function handleKeyPress(event) {
      if (event.key === 'Enter') {
        sendMessage();
      }
    }

    function sendQuickMessage(message) {
      document.getElementById('msg').value = message;
      sendMessage();
    }

    async function sendMessage() {
      const input = document.getElementById('msg');
      const chat = document.getElementById('chat');
      const sendBtn = document.getElementById('sendBtn');
      const typingIndicator = document.getElementById('typingIndicator');
      
      const userText = input.value.trim();
      if (!userText) return;

      // Disable send button
      sendBtn.disabled = true;
      sendBtn.textContent = 'Sending...';

      // Show user message
      const userMessage = document.createElement('div');
      userMessage.className = 'message user';
      userMessage.textContent = userText;
      chat.appendChild(userMessage);
      
      input.value = "";
      chat.scrollTop = chat.scrollHeight;

      // Show typing indicator
      typingIndicator.style.display = 'block';
      chat.scrollTop = chat.scrollHeight;

      // Simulate AI thinking time
      await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));

      // Hide typing indicator
      typingIndicator.style.display = 'none';

      // Generate AI response
      const aiResponse = generateResponse(userText.toLowerCase());

      // Show AI reply
      const aiMessage = document.createElement('div');
      aiMessage.className = 'message ai';
      aiMessage.innerHTML = aiResponse.replace(/\n/g, '<br>');
      chat.appendChild(aiMessage);
      
      chat.scrollTop = chat.scrollHeight;

      // Re-enable send button
      sendBtn.disabled = false;
      sendBtn.textContent = 'Send';
    }

    function generateResponse(userText) {
      // Check for predefined responses
      for (const [key, response] of Object.entries(predefinedResponses)) {
        if (userText.includes(key)) {
          return response;
        }
      }

      // Default responses based on keywords
      if (userText.includes('book') || userText.includes('reservation')) {
        return 'I can help you with bookings! Please go back to the main page and click on the service you want to book (Flights, Hotels, Trains, Buses, or Cabs). I\'ll guide you through the process. What would you like to book?';
      }
      
      if (userText.includes('price') || userText.includes('cost') || userText.includes('budget')) {
        return 'Travel costs vary based on destination, season, and preferences. Here are some average ranges:\n\nüí∞ **Daily Budget:**\n‚Ä¢ Budget: ‚Çπ1,500-3,000\n‚Ä¢ Mid-range: ‚Çπ3,000-6,000\n‚Ä¢ Luxury: ‚Çπ6,000+\n\nFor specific pricing, please use our booking system. Which destination are you planning to visit?';
      }
      
      if (userText.includes('weather') || userText.includes('climate')) {
        return 'Weather is important for travel planning! üå§Ô∏è\n\n**General India Travel Seasons:**\n‚Ä¢ **Winter (Nov-Feb):** Best for most destinations\n‚Ä¢ **Summer (Mar-May):** Good for hill stations\n‚Ä¢ **Monsoon (Jun-Sep):** Great for Kerala, Goa\n\nWhich specific destination\'s weather would you like to know about?';
      }
      
      if (userText.includes('cancel') || userText.includes('refund')) {
        return 'Cancellation policies vary by service:\n\nüìã **General Guidelines:**\n‚Ä¢ **Flights:** 24-48 hours before departure\n‚Ä¢ **Hotels:** Usually 24 hours before check-in\n‚Ä¢ **Trains:** Up to 4 hours before departure\n‚Ä¢ **Buses:** 2-6 hours before departure\n\nFor specific cancellation terms, please check your booking confirmation or contact our support team.';
      }

      // Generic helpful response
      const genericResponses = [
        'That\'s an interesting question! I\'m here to help with travel planning, bookings, and destination advice. Could you please be more specific about what you\'d like to know?',
        'I\'d love to help you with that! As your travel assistant, I can provide information about destinations, bookings, and travel tips. What specific travel help do you need?',
        'Great question! I specialize in travel assistance. Whether you need help with bookings, destination recommendations, or travel planning, I\'m here to help. What can I assist you with?'
      ];
      
      return genericResponses[Math.floor(Math.random() * genericResponses.length)];
    }

    // Auto-focus on input when page loads
    window.onload = function() {
      document.getElementById('msg').focus();
    };
  </script>
</body>
</html>